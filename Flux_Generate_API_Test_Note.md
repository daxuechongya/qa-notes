# ğŸ“ Flux Generate API æµ‹è¯•ç¬”è®°

## 1. æ¥å£ä¿¡æ¯

-   **URL**:\
    `POST https://hub.vidaxl.io/api/v1/images/generation/generate`

-   **ç”¨é€”**:\
    è°ƒç”¨ Flux AIï¼Œæ ¹æ® **WBG å›¾ + prompt** ç”Ÿæˆåœºæ™¯å›¾ã€‚

------------------------------------------------------------------------

## 2. å¿…å¡«å‚æ•°

è¯·æ±‚ä½“ JSON æ ¼å¼ï¼š

``` json
{
  "promptName": "your_prompt_name",   // å¿…å¡«ï¼Œç”Ÿæˆä»»åŠ¡å
  "sku": "123456",                    // å¿…å¡«ï¼Œå•†å“ SKU
  "prompt": "your generation prompt", // å¿…å¡«ï¼Œæè¿°è¦ç”Ÿæˆçš„åœºæ™¯
  "aiServiceType": "flux",            // å¿…å¡«ï¼ŒæŒ‡å®šæœåŠ¡ç±»å‹
  "imageUrl": "http://..."            // å¿…å¡«ï¼Œç™½åº•å›¾(WBG)åœ°å€
}
```

------------------------------------------------------------------------

## 3. å­—æ®µè¯´æ˜

-   **promptName** â†’ ä»»æ„å­—ç¬¦ä¸²ï¼Œç”¨æ¥åœ¨æ—¥å¿—é‡ŒåŒºåˆ†ä»»åŠ¡ã€‚\
-   **sku** â†’ å•†å“å”¯ä¸€ç¼–å·ã€‚\
-   **prompt** â†’ æ–‡æœ¬æè¿°åœºæ™¯ï¼Œå¯ç®€å•å¯å¤æ‚ã€‚\
-   **aiServiceType** â†’ ç›®å‰å†™ `"flux"`ã€‚\
-   **imageUrl** â†’ å•†å“ç™½åº•å›¾ URLï¼Œå¿…é¡»å¯è®¿é—®ã€‚

------------------------------------------------------------------------

## 4. ç¤ºä¾‹è¯·æ±‚

``` json
{
  "promptName": "smoke-test",
  "sku": "TEST001",
  "prompt": "modern bedroom with bedding",
  "aiServiceType": "flux",
  "imageUrl": "http://images.salsify.com/image/upload/.../wbg_test.jpg"
}
```

------------------------------------------------------------------------

## 5. æˆåŠŸå“åº”ï¼ˆç¤ºä¾‹ï¼‰

``` json
{
  "sku": "TEST001",
  "imageUrl": "http://.../wbg_test.jpg",
  "generatedImageUrl": "https://vidaxlpim.blob.core.windows.net/.../Mood-Image-Generated-xxxx_flux.png",
  "aiServiceType": "flux",
  "cost": 0.04,
  "currency": "USD",
  "logId": "xxxxxx"
}
```

-   **generatedImageUrl**: ç”Ÿæˆçš„æˆå“å›¾åœ°å€ï¼ˆè¿é€šæ€§éªŒè¯çš„å…³é”®ï¼‰ã€‚\
-   **logId**: æ—¥å¿— IDï¼Œå¯ç”¨ `/generation/log` æŸ¥å†å²ã€‚

------------------------------------------------------------------------

## 6. QA æµ‹è¯•è¦ç‚¹

-   **æ­£å‘æµ‹è¯•**
    -   å¿…å¡«å­—æ®µéƒ½å¡« â†’ è¿”å› 200 + `generatedImageUrl`ã€‚\
-   **åå‘æµ‹è¯•**
    -   ç¼ºå°‘ `promptName` â†’ æŠ¥é”™ã€‚\
    -   ç¼ºå°‘ `aiServiceType` â†’ æŠ¥é”™ã€‚\
    -   ç¼ºå°‘ `imageUrl` â†’ æ— æ³•ç”Ÿæˆã€‚\
    -   `aiServiceType` ä¼ é”™ï¼ˆå¦‚ `"gemini"`) â†’ æŠ¥é”™/æœªå®ç°ã€‚

------------------------------------------------------------------------

## 7. Smoke Test ç”¨æ³•

-   ç”¨ä¸€ä¸ªå›ºå®š SKU + WBG å›¾ + ç®€å• promptã€‚\
-   æˆåŠŸç”Ÿæˆå›¾ç‰‡ â†’ è¡¨ç¤º Flux æœåŠ¡è¿é€šæ­£å¸¸ã€‚
